<!DOCTYPE html>

<html>
<head>
  <title>Parsing HTML/DOM in PHP</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--html_parsing">
<header>
  <div class="pager"><a href="images.html" class="prev images">&laquo;Images</a><a href="index.html" class="index pager__book-title">Loft Drupal Core</a><a href="entity_protection.html" class="next entity_protection">Protecting Critical Entities&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>


<h1>Parsing HTML/DOM in PHP</h1>

<section>

<p>This module provides the <a href="http://simplehtmldom.sourceforge.net/manual_api.htm">Php Simple Html DOM Parser</a></p>

<ul>
<li><a href="https://packagist.org/packages/sunra/php-simple-html-dom-parser">https://packagist.org/packages/sunra/php-simple-html-dom-parser</a></li>
</ul>

<p>Here is example code that appends a class and replaces a child node's text with other.</p>

<pre><code>use Sunra\PhpSimple\HtmlDomParser;

... 

// Replace the description with the error and add error class.
$dom = HtmlDomParser::str_get_html($vars['element']['#children']);

// Here we will append a class to already existing classes.
$item = $dom-&gt;find('.form-item')[0];
$class = $item-&gt;class . ' form-item--error';
$item-&gt;class = $class;

// Look for the description and append if not found
if (!$dom-&gt;find('.form-item__description')) {
    $inner = $item-&gt;innertext;
    $inner .= '&lt;span class="form-item__description"&gt;' . $error . '&lt;/span&gt;';
    $item-&gt;innertext = $inner;
}

// Otherwise replaces it's innerHtml with the error
else {
    $dom-&gt;find('.form-item__description')[0]-&gt;innertext = $error;
}
$output = (string) $dom;
</code></pre>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="images.html" class="prev images">&laquo;Images</a><a href="index.html" class="index pager__book-title">Loft Drupal Core</a><a href="entity_protection.html" class="next entity_protection">Protecting Critical Entities&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 1.0 &bull; Last Updated: Sun, 22 Sep 2019 14:05:39 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>

